model InStock {
  id                    Int @id @default(autoincrement()) 
  productId             Int @unique   
  inStock               Int 
  totalSaleQuantity     Int @default(0)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt

  product               Product @relation(fields: [productId], references: [id])

  @@map("in_stocks")
}

model StockEvent {
  id              Int @id @default(autoincrement())
  action          StockAction
  quantity        Int
  productId       Int
  assignedById    Int
  assignedAt      DateTime @default(now())

  product         Product @relation(fields: [productId], references: [id])
  assignedBy      User @relation(fields: [assignedById], references: [id])

  @@map("stock_events")
}

enum StockAction {
  ADD
  SELL
  RESERVE
}